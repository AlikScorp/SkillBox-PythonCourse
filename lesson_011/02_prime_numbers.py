# -*- coding: utf-8 -*-


# –ï—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ—Å—Ç—ã—Ö —á–∏—Å–µ–ª


def get_prime_numbers(n):
    prime_numbers = []
    for num in range(2, n + 1):
        for prime in prime_numbers:
            if num % prime == 0:
                break
        else:
            prime_numbers.append(num)
    return prime_numbers


# –ß–∞—Å—Ç—å 1
# –ù–∞ –æ—Å–Ω–æ–≤–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ get_prime_numbers —Å–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã—Ö –æ–±—å–µ–∫—Ç–æ–≤,
# –∫–æ—Ç–æ—Ä—ã–π –≤—ã–¥–∞–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ—Å—Ç—ã—Ö —á–∏—Å–µ–ª –¥–æ n
#
# –†–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å –≤—Å–µ –ø—Ä–æ—Å—Ç—ã–µ —á–∏—Å–ª–∞ –¥–æ 10000 –≤ —Å—Ç–æ–ª–±–∏–∫


class PrimeNumbers:

    def __init__(self, n):
        self.item = 2
        self.n = n
        self.prime_numbers = []

    def __iter__(self):
        self.item = 2
        self.prime_numbers = []
        return self

    def __next__(self):

        for item in range(self.item, self.n + 1):
            for prime in self.prime_numbers:
                if item % prime == 0:
                    break
            else:
                self.prime_numbers.append(item)
                self.item = item
                return self.item

        raise StopIteration


# prime_number_iterator = PrimeNumbers(n=10000)
# for number in prime_number_iterator:
#     print(number)


# –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —á–∞—Å—Ç–∏ 1 –ø—Ä–µ–ø–æ–¥–æ–≤–∞—Ç–µ–ª–µ–º, –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å
# –ß–∞—Å—Ç—å 2
# –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–¥–∞–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ—Å—Ç—ã—Ö —á–∏—Å–µ–ª –¥–æ n
# –†–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å –≤—Å–µ –ø—Ä–æ—Å—Ç—ã–µ —á–∏—Å–ª–∞ –¥–æ 10000 –≤ —Å—Ç–æ–ª–±–∏–∫


def prime_numbers_generator(n):
    prime_numbers = []
    for num in range(2, n + 1):
        for prime in prime_numbers:
            if num % prime == 0:
                break
        else:
            prime_numbers.append(num)
            yield num


print('Prime numbers by generator:', '[', sep='\n', end='')
for number in prime_numbers_generator(n=10000):
    print(number, end=', ')
print(']')


# –ß–∞—Å—Ç—å 3
# –ù–∞–ø–∏—Å–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–π-—Ñ–∏–ª—å—Ç—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–¥–∞–µ—Ç True, –µ—Å–ª–∏ —á–∏—Å–ª–æ:
# 1) "—Å—á–∞—Å—Ç–ª–∏–≤–æ–µ" –≤ –æ–±—ã–¥–µ–Ω–Ω–æ–º –ø–æ–Ω–∏–º–∞–Ω–∏–∏–∏ - —Å—É–º–º–∞ –ø–µ—Ä–≤—ã—Ö —Ü–∏—Ñ—Ä —Ä–∞–≤–Ω–∞ —Å—É–º–º–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö
#       –ï—Å–ª–∏ —á–∏—Å–ª–æ –∏–º–µ–µ—Ç –Ω–µ—á–µ—Ç–Ω–æ–µ —á–∏—Å–ª–æ —Ü–∏—Ñ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä 727 –∏–ª–∏ 92083),
#       —Ç–æ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è "—Å—á–∞—Å—Ç–ª–∏–≤–æ—Å—Ç–∏" –±—Ä–∞—Ç—å —Ä–∞–≤–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏—Ñ—Ä —Å –Ω–∞—á–∞–ª–∞ –∏ –∫–æ–Ω—Ü–∞:
#           727 -> 7(2)7 -> 7 == 7 -> True
#           92083 -> 92(0)83 -> 9+2 == 8+3 -> True
# 2) "–ø–∞–ª–∏–Ω–¥—Ä–æ–º–Ω–æ–µ" - –æ–¥–∏–Ω–∞–∫–æ–≤–æ —á–∏—Ç–∞—é—â–µ–µ—Å—è –≤ –æ–±–æ–∏—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä 723327 –∏ 101
# 3) –ø—Ä–∏–¥—É–º–∞—Ç—å —Å–≤–æ—é (https://clck.ru/GB5Fc –≤ –ø–æ–º–æ—â—å)
#
# –ü–æ–¥—É–º–∞—Ç—å, –∫–∞–∫ –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏-—Ñ–∏–ª—å—Ç—Ä—ã –∫ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Å—Ç—ã—Ö —á–∏—Å–µ–ª
# –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è, –∫ –ø—Ä–∏–º–µ—Ä—É: –ø—Ä–æ—Å—Ç—ã—Ö —Å—á–∞—Å—Ç–ª–∏–≤—ã—Ö —á–∏—Å–µ–ª, –ø—Ä–æ—Å—Ç—ã—Ö –ø–∞–ª–∏–Ω–¥—Ä–æ–º–Ω—ã—Ö —á–∏—Å–µ–ª,
# –ø—Ä–æ—Å—Ç—ã—Ö —Å—á–∞—Å—Ç–ª–∏–≤—ã—Ö –ø–∞–ª–∏–Ω–¥—Ä–æ–º–Ω—ã—Ö —á–∏—Å–µ–ª –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –ü—Ä–∏–¥—É–º–∞—Ç—å –Ω–µ –º–µ–Ω–µ–µ 2—Ö —Å–ø–æ—Å–æ–±–æ–≤.
#
# –ü–æ–¥—Å–∫–∞–∑–∫–∞: –≤–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ –∏—Ç–µ—Ä–∞—Ç–æ—Ä/–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä.


# –ù–µ —É–≤—Ä–µ–Ω –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ —Ä–µ–ª–∏–∑–∞—Ü–∏–∏ –∑–∞–¥–∞–Ω–∏—è, –≤–æ–∑–º–æ–∂–Ω–æ —á—Ç–æ —è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –µ–≥–æ –ø–æ–Ω—è–ª.
# –ú–æ–∂–µ—Ç –±—ã—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –Ω—É–∂–Ω–æ –∑–∞–ª–æ–∂–∏—Ç—å –≤ —Å–∞–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–ª–∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä?
# TODO –û–¥–∏–Ω —Å–ø–æ—Å–æ–± —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≤—ã –ø—Ä–∏–º–µ–Ω–∏–ª–∏. –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω –ø—Ä–∏–Ω–∏–º–∞–ª —Ñ—É–Ω–∫—Ü–∏—é —Ñ–∏–ª—å—Ç—Ä –≤ –∫–∞—á–µ—Å—Ç–≤–µ
#  –∞—Ä–≥—É–º–µ–Ω—Ç–∞.

def is_lucky_number(n: int) -> bool:
    """
        –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ –Ω–∞ "—Å—á–∞—Å—Ç–ª–∏–≤–æ—Å—Ç—å" - —Å—É–º–º–∞ –ø–µ—Ä–≤—ã—Ö —Ü–∏—Ñ—Ä —Ä–∞–≤–Ω–∞ —Å—É–º–º–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö.
        –ï—Å–ª–∏ —á–∏—Å–ª–æ –∏–º–µ–µ—Ç –Ω–µ—á–µ—Ç–Ω–æ–µ —á–∏—Å–ª–æ —Ü–∏—Ñ—Ä, —Ç–æ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –±–µ—Ä–µ—Ç—Å—è —Ä–∞–≤–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤ —Å –Ω–∞—á–∞–ª–∞ –∏ –∫–æ–Ω—Ü–∞.
    :param n: –¶–µ–ª–æ–µ —á–∏—Å–ª–æ
    :return: True –µ—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–µ —á–∏–ª–æ —Å—á–∞—Å—Ç–ª–∏–≤–æ–µ –∏ False –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ
    """
    str_number = str(n)
    length = len(str_number)
    half = length // 2

    if length == 1:
        return False

    if length % 2 == 0:
        return is_parts_equal(str_number[:half], str_number[half:])
    else:
        return is_parts_equal(str_number[:half], str_number[half + 1:])


def is_parts_equal(first: str, second: str) -> bool:
    """
        –§—É–Ω–∫—Ü–∏—è —Å—É–º–∏—Ä—É–µ—Ç —Ü–∏—Ñ—Ä—ã –≤ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Å—É–º–º—ã –Ω–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ.
    :param first: –ü–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ
    :param second: –í—Ç–æ—Ä–æ–µ —á–∏—Å–ª–æ
    :return: True –µ—Å–ª–∏ —á–∏—Å–ª–∞ —Ä–∞–≤–Ω—ã –∏ False –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ
    """
    # TODO lambda –∏ list –ª–∏—à–Ω–∏–µ. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—É–º–º—ã —á–∏—Å–µ–ª –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ sum(map(first, int))
    left_part = list(map(lambda x: int(x), first))
    right_part = list(map(lambda x: int(x), second))

    return sum(left_part) == sum(right_part)


# TODO –¥–æ–∫—Å—Ç—Ä–∏–Ω–≥–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å. üòû
def is_palindrome_number(n: int) -> bool:
    str_number = str(n)

    return str_number == str_number[-1::-1]


def is_sophie_germain_number(n: int) -> bool:
    # TODO –ó–¥–µ—Å—å —Ç–æ—á–Ω–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–æ–∫—Å—Ç—Ä–∏–Ω–≥–∞, –ø–æ—è—Å–Ω—è—é—â–µ–≥–æ —á—Ç–æ –∑–∞ —á–∏—Å–ª–∞ —É –≤–∞—Å –¥–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∏—Ç—å—Å—è
    num = 2*n + 1

    if num < 2:
        return False
    result = True
    # TODO –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —á–∏—Å–ª–∞ –¥–æ num ** 0.5
    for i in range(2, num):
        if num % i == 0:
            result = False
            break
    return result


lucky_numbers = list(filter(is_lucky_number, prime_numbers_generator(n=10000)))
print("List of prime and lucky numbers:", lucky_numbers, sep='\n')

palindrome_numbers = list(filter(is_palindrome_number, prime_numbers_generator(n=10000)))
print("List of prime and palindrome numbers:", palindrome_numbers, sep='\n')

prime_numbers_10000 = list(prime_numbers_generator(n=10000))
sophie_germain_numbers = list(filter(is_sophie_germain_number, prime_numbers_generator(n=10000)))
print("List of prime and Sophie Germain numbers:", sophie_germain_numbers, sep='\n')

#  –ù–∞–∫–ª–∞–¥—ã–≤–∞–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä –Ω–∞ —É–∂–µ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
sophie_germain_palindrome_numbers = list(filter(is_sophie_germain_number, palindrome_numbers))
print("List of prime and Sophie Germain palindrome numbers:", sophie_germain_palindrome_numbers, sep='\n')

#  –ò—Å–∫–∞—Ç—å –ø—Ä–æ—Å—Ç—ã–µ "—Å—á–∞—Å—Ç–ª–∏–≤—ã–µ" –ø–∞–ª–∏–Ω–¥—Ä–æ–º–Ω—ã–µ —á–∏—Å–ª–∞ –ø–æ–º–æ–µ–º—É –Ω–µ—Ç —Å–º—ã—Å–ª–∞ - –ª—é–±–æ–π –ø–æ–ª–∏–Ω–¥—Ä–æ–º –±—É–¥–µ—Ç "—Å—á–∞—Å—Ç–ª–∏–≤—ã–º" —á–∏—Å–ª–æ–º
#  –ü–∞–ª–∏–Ω–¥—Ä–æ–º –Ω–µ—á—ë—Ç–Ω–æ–π –¥–ª–∏–Ω—ã –Ω–µ –±—É–¥–µ—Ç —Å—á–∞—Å—Ç–ª–∏–≤—ã–º.
